(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(){},101:function(){},102:function(){},114:function(a,b,c){"use strict";function d(a){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return b&&("object"===d(b)||"function"==typeof b)?b:l(a)}function i(a){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},i(a)}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&k(a,b)}function k(a,b){return k=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},k(a,b)}function l(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(a)}function o(a){return r(a)||q(a)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function q(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function r(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function s(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function t(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function u(a,b,c){return b&&t(a.prototype,b),c&&t(a,c),a}function v(a,b){return b&&("object"===n(b)||"function"==typeof b)?b:z(a)}function w(a){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},w(a)}function x(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&y(a,b)}function y(a,b){return y=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},y(a,b)}function z(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function A(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function B(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function C(a){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},C(a)}function D(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function E(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function F(a,b,c){return b&&E(a.prototype,b),c&&E(a,c),a}function G(a,b){return b&&("object"===C(b)||"function"==typeof b)?b:K(a)}function H(a){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},H(a)}function I(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&J(a,b)}function J(a,b){return J=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},J(a,b)}function K(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function L(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function M(a){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},M(a)}function N(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){W(a,b,c[b])})}return a}function O(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function P(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function Q(a,b,c){return b&&P(a.prototype,b),c&&P(a,c),a}function R(a,b){return b&&("object"===M(b)||"function"==typeof b)?b:V(a)}function S(a){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},S(a)}function T(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&U(a,b)}function U(a,b){return U=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},U(a,b)}function V(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function W(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function X(a){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},X(a)}function Y(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Z(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function $(a,b,c){return b&&Z(a.prototype,b),c&&Z(a,c),a}function _(a,b){return b&&("object"===X(b)||"function"==typeof b)?b:da(a)}function aa(a){return aa=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},aa(a)}function ba(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ca(a,b)}function ca(a,b){return ca=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},ca(a,b)}function da(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ea(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fa(a){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},fa(a)}function ga(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ha(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function ia(a,b,c){return b&&ha(a.prototype,b),c&&ha(a,c),a}function ja(a,b){return b&&("object"===fa(b)||"function"==typeof b)?b:na(a)}function ka(a){return ka=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},ka(a)}function la(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ma(a,b)}function ma(a,b){return ma=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},ma(a,b)}function na(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function oa(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}c.r(b);var pa=c(0),qa=c.n(pa),ra=c(7),sa=c(1),ta=c.n(sa),ua=c(10),va=c(81),wa=c.n(va),xa=c(84),ya=function(a){function b(){var a,c;e(this,b);for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=h(this,(a=i(b)).call.apply(a,[this].concat(f))),m(l(l(c)),"state",{isOpen:!1}),m(l(l(c)),"dropdown",qa.a.createRef()),m(l(l(c)),"componentDidMount",function(){document.addEventListener("mousedown",c.detectClick)}),m(l(l(c)),"componentWillUnmount",function(){document.removeEventListener("mousedown",c.detectClick)}),m(l(l(c)),"detectClick",function(a){if(!c.dropdown.current.contains(a.target)){var b=c.state.isOpen;b&&c.setState({isOpen:!1})}}),m(l(l(c)),"toggleSelect",function(a){a&&13!==a.keyCode&&a.keyCode||c.setState(function(a){return{isOpen:!a.isOpen}})}),m(l(l(c)),"chooseItemAndClose",function(a){var b=c.props.chooseHandler;b(a),c.toggleSelect()}),c}return j(b,a),g(b,[{key:"render",value:function(){var a=this,b=this.state.isOpen,c=this.props,d=c.items,e=c.chosen,f=c.text;return qa.a.createElement("div",{ref:this.dropdown,className:"dropdown"},qa.a.createElement("span",{className:"dropdown__chosen",onClick:this.toggleSelect,onKeyDown:this.toggleSelect,role:"listbox",tabIndex:"0"},wa()(e||f)),qa.a.createElement("ul",{className:"dropdown__menu ".concat(b?"dropdown__menu--open":"")},d.map(function(b){return qa.a.createElement("li",{className:"dropdown__item",tabIndex:"0",role:"option","aria-selected":e===b,key:b,value:b,onClick:a.chooseItemAndClose,onKeyDown:a.chooseItemAndClose},wa()(b))})))}}]),b}(pa.Component);m(ya,"propTypes",{items:ta.a.arrayOf(ta.a.oneOfType([ta.a.number,ta.a.string])).isRequired,text:ta.a.string.isRequired,chosen:ta.a.oneOfType([ta.a.string,ta.a.number]).isRequired,chooseHandler:ta.a.func.isRequired});var za=ya,Aa=function(a){var b=a.sizes,c=a.chosenSize,d=a.chooseSizeHandler;return b.length?qa.a.createElement("div",{className:"size-picker"},qa.a.createElement(za,{items:b,chosen:c,chooseHandler:function(a){d(a.target.value)},text:"Size"})):null};Aa.propTypes={sizes:ta.a.arrayOf(ta.a.oneOfType([ta.a.number,ta.a.string])).isRequired,chooseSizeHandler:ta.a.func.isRequired,chosenSize:ta.a.number.isRequired};var Ba=function(a){var b=a.colors,c=a.chosenColor,d=a.chooseColorHandler;return b.length?qa.a.createElement("div",{className:"color-picker"},qa.a.createElement(za,{items:b.map(function(a){var b=a.color;return b}),chosen:c.color||"",chooseHandler:function(a){var c=a.target.getAttribute("value"),e=b.find(function(a){return a.color===c});d(e)},text:"Color"}),c.quantity!==void 0&&(0<c.quantity?qa.a.createElement("p",null,"Only ".concat(c.quantity," left!")):qa.a.createElement("p",null,"Out of stock!"))):null};Ba.propTypes={colors:ta.a.arrayOf(ua.b).isRequired,chosenColor:ua.b.isRequired,chooseColorHandler:ta.a.func.isRequired};var Ca=c(85),Da=function(a){var b=a.chosenQuantity,c=a.maxQuantity,d=a.chooseQuantityHandler,e=function(a){var b=a.target.innerHTML;d(b)};return qa.a.createElement("div",null,qa.a.createElement("h4",{className:"quantity__title"},"Quantity"),qa.a.createElement("div",{className:"quantity-picker"},qa.a.createElement("button",{className:"quantity-picker__btn quantity-picker__btn--negative",type:"button",onClick:e,disabled:!b},"-"),qa.a.createElement("span",{className:"quantity-picker__chosen"},b),qa.a.createElement("button",{className:"quantity-picker__btn quantity-picker__btn--positive",type:"button",onClick:e,disabled:b>=c},"+")))};Da.propTypes={chosenQuantity:ta.a.number.isRequired,maxQuantity:ta.a.number.isRequired,chooseQuantityHandler:ta.a.func.isRequired};var Ea=c(18),Fa=c.n(Ea),Ga=c(19),Ha=c(86),Ia=function(a){function b(){var a,c;s(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=v(this,(a=w(b)).call.apply(a,[this].concat(e))),A(z(z(c)),"state",{name:"",body:"",rating:0,processing:!1}),A(z(z(c)),"handleSubmit",function(a){a.preventDefault();var b=c.state,d=b.name,e=b.body,f=b.rating,g=c.props,h=g.modifyProduct,i=g.productId;Fa.a.post("/api/store/product/reviews",{productId:i,review:{name:d,body:e,rating:f}}).then(function(a){var b=a.data;return h(b)},function(a){return console.log("something went wrong",a)})}),A(z(z(c)),"onChange",function(a,b){c.setState(A({},a,b))}),A(z(z(c)),"chooseRating",function(a){c.setState({rating:+a.target.innerHTML})}),c}return x(b,a),u(b,[{key:"render",value:function(){var a=this,b=this.state,c=b.name,d=b.body,e=b.processing;return qa.a.createElement("div",{className:"add-review"},e&&qa.a.createElement(Ga.a,{transparent:!0}),qa.a.createElement("h3",{className:"add-review__title"},"Add a Review"),qa.a.createElement("form",{onSubmit:this.handleSubmit,className:"add-review__form"},qa.a.createElement("input",{className:"add-review__input",type:"text",onChange:function(b){return a.onChange("name",b.target.value)},value:c,placeholder:"Name"}),qa.a.createElement("textarea",{className:"add-review__textarea",type:"text",onChange:function(b){return a.onChange("body",b.target.value)},value:d,placeholder:"Review",rows:"4"}),o([,,,,,]).map(function(b,c){return qa.a.createElement("button",{type:"button",key:c,onClick:a.chooseRating},c+1)}),qa.a.createElement("button",{className:"add-review__submit",type:"submit"},"Send")))}}]),b}(pa.Component);A(Ia,"propTypes",{productId:ta.a.string.isRequired,modifyProduct:ta.a.func.isRequired});var Ja=c(9),Ka=function(a){return{type:Ja.x,url:a}},La=function(){return{type:Ja.c}},Ma=function(){return function(a,b){var c=b(),d=c.filters,e=Object.keys(d).reduce(function(a,b){var c=Object.keys(d[b]).filter(function(a){return d[b][a]});return c.length&&a.push("".concat(b,"=").concat(c.join(","))),a},[]).join("&");a(Ka(e))}},Na=function(){return{type:Ja.j}},Oa=function(a){return{type:Ja.w,products:a}},Pa=function(){return{type:Ja.k}},Qa=function(){return{type:Ja.i}},Ra=function(){return{type:Ja.g}},Sa=function(){return{type:Ja.n}},Ta=function(){return function(a,b){var c=b(),d=c.query,e=d.url,f=d.pagination;return a(Na()),Fa()("/api/store/products/query?".concat(e,"&pagination=").concat(f)).then(function(b){var c=b.data;a(Oa(c)),a(La())}).catch(function(){return a(Pa())})}},Ua=function(a){return{type:Ja.b,product:a}},Va=Object(ra.b)(null,{modifyProduct:function(a){return{type:Ja.d,updatedProduct:a}}})(Ia),Wa=c(87),Xa=c.n(Wa),Ya=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},Za=(a)=>{let{styles:b={}}=a,c=B(a,["styles"]);return qa.a.createElement("svg",Ya({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.667 426.667"},c),qa.a.createElement("path",{fill:"#fac917",d:"M213.333 10.441l65.916 133.576 147.418 21.419L320 269.41l25.173 146.816-131.84-69.316-131.848 69.316 25.182-146.816L0 165.436l147.409-21.419z"}))},$a=c(95),_a=function(a){var b=a.review;return qa.a.createElement("li",{className:"review"},qa.a.createElement("div",{className:"review__info"},qa.a.createElement("h3",{className:"review__name"},b.name),qa.a.createElement("div",{className:"review__rating"},qa.a.createElement(Za,{style:{height:"100%",marginRight:5}}),qa.a.createElement("span",null,b.rating)),qa.a.createElement("span",{className:"review__timestamp"},Xa()(b.timestamp))),qa.a.createElement("p",{className:"review__body"},b.body))};_a.propTypes={review:ua.f.isRequired};var ab=c(96),bb=function(a){function b(){var a,c;D(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=G(this,(a=H(b)).call.apply(a,[this].concat(e))),L(K(K(c)),"state",{isOpen:!1}),L(K(K(c)),"toggleReviews",function(a){"Enter"!==a.key&&a.key||c.setState(function(a){return{isOpen:!a.isOpen}})}),L(K(K(c)),"stopPropagation",function(a){return a.stopPropagation()}),c}return I(b,a),F(b,[{key:"render",value:function(){var a=this.props,b=a.reviews,c=a.productId,d=this.state.isOpen;return qa.a.createElement(qa.a.Fragment,null,qa.a.createElement("button",{type:"button",className:"btn btn--secondary",onClick:this.toggleReviews,onKeyPress:this.toggleReviews},"Reviews"),qa.a.createElement("div",{className:"reviews__container ".concat(d&&"reviews__container--open"),onClick:this.toggleReviews,onKeyPress:this.toggleReviews,role:"link",tabIndex:"0"},qa.a.createElement("div",{className:"reviews__wrapper",role:"presentation",onClick:this.stopPropagation},qa.a.createElement(Va,{productId:c}),qa.a.createElement("h1",{className:"reviews__header"},"Reviews"),0===b.length&&qa.a.createElement("h3",null,"No reviews yet"),0<b.length&&qa.a.createElement("ul",{className:"reviews__list"},b.map(function(a){return qa.a.createElement(_a,{key:a.name+a.timestamp,review:a})})))))}}]),b}(pa.Component);L(bb,"propTypes",{reviews:ta.a.arrayOf(ua.f).isRequired,productId:ta.a.string.isRequired});var cb=c(17),db=c(12),eb=c(97),fb=function(a){function b(){var a,c;O(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=R(this,(a=S(b)).call.apply(a,[this].concat(e))),W(V(V(c)),"state",{chosenSize:0,chosenColor:{},chosenQuantity:0,showingReviews:!1,addToCarterror:null}),W(V(V(c)),"chooseProductHandler",function(){var a=c.props,b=a.chooseProduct,d=a.product;b(d)}),W(V(V(c)),"chooseSizeHandler",function(a){c.setState({chosenSize:a})}),W(V(V(c)),"chooseColorHandler",function(a){c.setState({chosenColor:a})}),W(V(V(c)),"chooseQuantityHandler",function(a){c.setState(function(b){return{chosenQuantity:"+"===a?b.chosenQuantity+1:b.chosenQuantity-1}})}),W(V(V(c)),"addToCart",function(){var a=c.props,b=a.product,d=a.addToCartHandler,e=c.state,f=e.chosenColor,g=e.chosenSize,h=e.chosenQuantity;return f.color&&(g||!b.sizes.length)&&h?void(c.setState({addToCarterror:null}),d({product:N({},b,{price:Object(db.a)(b.price,b.discount)}),color:f.color,size:g,quantity:h})):void c.setState({addToCarterror:"Please choose color, (size) and quantity"})}),c}return T(b,a),Q(b,[{key:"render",value:function(){var a=this.state,b=a.chosenSize,c=a.chosenColor,d=a.chosenQuantity,e=a.showingReviews,f=a.addToCarterror,g=this.props.product,h=g._id,i=g.name,j=g.colors,k=g.description,l=g.image,m=g.type,n=g.discount,o=g.price,p=g.rating,q=g.reviews,r=g.sizes;return qa.a.createElement("li",{className:"product"},qa.a.createElement("div",null,qa.a.createElement("div",{className:"product__header"},qa.a.createElement("span",{className:"product__name"},i),qa.a.createElement("div",{className:"rating__container"},qa.a.createElement(Za,{style:{height:25,marginRight:5}}),qa.a.createElement("span",{className:"rating"},p))),qa.a.createElement("div",{className:"product__img"},qa.a.createElement(cb.a,{imgName:l,alt:m})),qa.a.createElement("p",{className:"product__description"},k),qa.a.createElement("span",{className:"product__price"},"".concat(Object(db.a)(o,n),"$")),0<n&&qa.a.createElement("span",{className:"product__discount"},"".concat(n,"% off"))),qa.a.createElement("div",{className:"pickers"},qa.a.createElement(Aa,{sizes:r,chosenSize:b,chooseSizeHandler:this.chooseSizeHandler}),qa.a.createElement(Ba,{colors:j,chosenColor:c,chooseColorHandler:this.chooseColorHandler})),qa.a.createElement(Da,{maxQuantity:c.quantity||0,chosenQuantity:d,chooseQuantityHandler:this.chooseQuantityHandler}),qa.a.createElement("div",{className:"add-to-cart"},qa.a.createElement("p",{className:"add-to-cart__error"},f),qa.a.createElement(bb,{reviews:q,isOpen:e,productId:h}),qa.a.createElement("button",{type:"button",className:"btn btn--primary",onClick:this.addToCart},"Add to cart")))}}]),b}(pa.Component);W(fb,"propTypes",{product:ua.e.isRequired,chooseProduct:ta.a.func.isRequired,addToCartHandler:ta.a.func.isRequired});var gb=c(70),hb={chooseProduct:Ua,addToCartHandler:gb.a},ib=Object(pa.memo)(Object(ra.b)(null,hb)(fb)),jb=c(98),kb=function(a){function b(){var a,c;Y(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=_(this,(a=aa(b)).call.apply(a,[this].concat(e))),ea(da(da(c)),"componentDidMount",function(){var a=c.props.fetchProducts,b=c.createInfiniteScroll(a),d=document.querySelector(".loading-trigger");b.observe(d),window.infiniteScrollObserver=b}),ea(da(da(c)),"componentWillUnmount",function(){var a=document.querySelector(".loading-trigger");window.infiniteScrollObserver.unobserve(a)}),ea(da(da(c)),"createInfiniteScroll",function(a){return new IntersectionObserver(function(b){var d=c.props.products,e=d.isFetching,f=d.isLastPage;f||0<b[0].intersectionRatio&&!e&&a()})}),c}return ba(b,a),$(b,[{key:"render",value:function(){var a=this.props.products,b=a.productsList,c=a.isFetching,d=a.error,e=a.isLastPage;return qa.a.createElement("div",{className:"products__list-container"},qa.a.createElement("ul",{className:"products__list"},c&&qa.a.createElement("h3",null,"Fetching..."),d&&qa.a.createElement("h3",null,"Products not found"),b.map(function(a){return qa.a.createElement(ib,{key:a._id,product:a})})),qa.a.createElement("div",{className:"loading-trigger"},c&&qa.a.createElement(Ga.a,{transparent:!0}),e&&qa.a.createElement("h1",null,"No more products")))}}]),b}(pa.Component);ea(kb,"propTypes",{products:ta.a.shape({productsList:ta.a.arrayOf(ua.e).isRequired,isFetching:ta.a.bool.isRequired,error:ta.a.bool.isRequired,isLastPage:ta.a.bool.isRequired}).isRequired,fetchProducts:ta.a.func.isRequired});var lb=Object(ra.b)(function(a){return{products:a.store.products}},{fetchProducts:Ta})(kb),mb=c(83),nb=function(a){var b=a.totalPrice;return qa.a.createElement("header",{className:"sticky-cart__header"},qa.a.createElement("h3",{className:"sticky-cart__title"},qa.a.createElement(mb.a,{to:"/cart",className:"sticky-cart-title__link"},"Cart")),qa.a.createElement("h3",{className:"sticky-cart__title"},"Total: ".concat(b,"$")))};nb.propTypes={totalPrice:ta.a.number.isRequired};var ob=function(a){var b=a.color,c=a.size,d=a.quantity;return qa.a.createElement("div",{className:"sticky-cart__details"},qa.a.createElement("span",{className:"sticky-cart__details-item"},"Color: ".concat(b)),0<c&&qa.a.createElement("span",{className:"sticky-cart__details-item"},"Size: ".concat(c)),qa.a.createElement("span",{className:"sticky-cart__details-item"},"Quantity: ".concat(d)))};ob.propTypes={color:ta.a.string.isRequired,size:ta.a.number.isRequired,quantity:ta.a.number.isRequired};var pb=function(a){var b=a.color,c=a.size,d=a.quantity,e=a.image,f=a.name,g=a.removeProduct;return qa.a.createElement("li",{className:"sticky-cart__item"},qa.a.createElement("div",{className:"sticky-cart__img"},qa.a.createElement(cb.a,{imgName:e,alt:f})),qa.a.createElement("span",{className:"sticky-cart-item__name"},f),qa.a.createElement(ob,{color:b,size:c,quantity:d}),qa.a.createElement("button",{type:"button",className:"sticky-cart__btn",onClick:g},"X"))};pb.propTypes={color:ta.a.string.isRequired,image:ta.a.string.isRequired,name:ta.a.string.isRequired,size:ta.a.number.isRequired,quantity:ta.a.number.isRequired,removeProduct:ta.a.func.isRequired};var qb=c(71),rb=c(99),sb=function(a){var b=a.cart,c=a.removeFromCartHandler;return qa.a.createElement("div",{className:"sticky-cart"},qa.a.createElement(nb,{totalPrice:b.totalPrice}),b.products.length?qa.a.createElement(qb.a,{classes:"sticky-cart__list"},b.products.map(function(a,b){return qa.a.createElement(pb,{key:"".concat(a.product._id).concat(a.color).concat(a.size),image:a.product.image,name:a.product.name,color:a.color,size:a.size,quantity:a.quantity,removeProduct:function(){return c(b)}})})):qa.a.createElement("h2",{className:"sticky-cart__empty"},"Your cart is empty :("))};sb.propTypes={cart:ta.a.shape({}).isRequired,removeFromCartHandler:ta.a.func.isRequired};var tb=Object(ra.b)(function(a){return{cart:a.cart}},{removeFromCartHandler:gb.b})(sb),ub=c(100),vb=function(a){var b=a.name,c=a.checked,d=a.group,e=a.changeHandler,f="label ".concat(c?"label--checked":"");return qa.a.createElement("label",{htmlFor:b,className:f},qa.a.createElement("input",{name:b,id:b,"data-group":d,className:"checkbox",type:"checkbox",onChange:e,checked:c}),wa()(b))};vb.propTypes={name:ta.a.string.isRequired,checked:ta.a.bool.isRequired,group:ta.a.string.isRequired,changeHandler:ta.a.func.isRequired};var wb=c(101),xb=function(a){function b(){var a,c;ga(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=ja(this,(a=ka(b)).call.apply(a,[this].concat(e))),oa(na(na(c)),"onInputChange",function(a){var b=c.props.updateFiltersAndProducts,d=a.target,e=d.name,f=d.dataset.group;b(f,e)}),c}return la(b,a),ia(b,[{key:"render",value:function(){var a=this,b=this.props,c=b.filters,d=b.resetFiltersAndFetchProducts;return qa.a.createElement("div",{className:"filters"},qa.a.createElement("button",{className:"filters__reset",type:"button",onClick:d},"reset all"),Object.keys(c).map(function(b){return qa.a.createElement("div",{className:"filters__group",key:b},qa.a.createElement("h4",{className:"filters__title"},b),Object.keys(c[b]).map(function(d){return qa.a.createElement(vb,{key:d,name:d,group:b,changeHandler:a.onInputChange,checked:c[b][d]})}))}))}}]),b}(pa.Component);xb.propTypes={updateFiltersAndProducts:sa.func.isRequired,resetFiltersAndFetchProducts:sa.func.isRequired,filters:Object(sa.shape)(oa({},sa.string,Object(sa.shape)(oa({},Object(sa.oneOfType)([sa.string,sa.number]),sa.bool)))).isRequired};var yb=function(a,b){return{type:Ja.v,group:a,filter:b}},zb=function(){return{type:Ja.m}},Ab=Object(ra.b)(function(a){return{filters:a.filters}},{updateFiltersAndProducts:function(a,b){return function(c){c(yb(a,b)),c(Ma()),c(Sa()),c(Ta())}},resetFiltersAndFetchProducts:function(){return function(a){a(zb()),a(Ma()),a(Sa()),a(Ta())}}})(xb),Bb=c(102),Cb=b["default"]=function(){return qa.a.createElement("main",{className:"store"},qa.a.createElement(Ab,null),qa.a.createElement(lb,null),qa.a.createElement(tb,null))}},70:function(a,b,c){"use strict";c.d(b,"c",function(){return h}),c.d(b,"a",function(){return i}),c.d(b,"b",function(){return j});var d=c(9),e=function(){return{type:d.u}},f=function(a){return{type:d.h,productIndex:a}},g=function(a){return{type:d.a,product:a}},h=function(){return{type:d.l}},i=function(a){return function(b){b(g(a)),b(e())}},j=function(a){return function(b){b(f(a)),b(e())}}},71:function(a,b,c){"use strict";var d=c(0),e=c.n(d),f=c(1),g=c.n(f),h=function(a){var b=a.children,c=a.classes;return e.a.createElement("ul",{className:c},b)};h.propTypes={children:g.a.oneOfType([g.a.node,g.a.arrayOf(g.a.node)]).isRequired,classes:g.a.string},h.defaultProps={classes:""},b.a=h},84:function(){},85:function(){},86:function(){},95:function(){},96:function(){},97:function(){},98:function(){},99:function(){}}]);